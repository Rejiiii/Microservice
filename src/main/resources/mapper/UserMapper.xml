<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.microservice.microservice.dao.UserDao">
    
    <!-- Login -->
    <select id="getByUsername" resultType="com.microservice.microservice.model.UserOutput">
        SELECT emp_id,
               username,
               password,
               position_id,
               dept_id,
               section_id,
               role_id,
               status_code,
               img_src
          FROM tbl_user
         WHERE username COLLATE utf8mb4_bin = #{username}
    </select>

    <select id="getAllUser" resultType="com.microservice.microservice.model.UserOutput">
        SELECT emp_id,
               username,
               password,
               position_id,
               dept_id,
               section_id,
               <!-- role_id, -->
               status_code,
               img_src
          FROM tbl_user
         WHERE del_flag = 0 AND emp_id != 100
         ORDER BY emp_id DESC, reg_date DESC;
    </select>
</mapper>
